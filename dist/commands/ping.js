const pms = require('pretty-ms');
const fetch = require('node-fetch');
module.exports = {
    name: 'ping',
    category: 'Utility',
    description: 'Returns ping and web socket information.',
    aliases: ['ws'],
    async execute(client, message, args) {
        const ws = client.ws;
        const connections = ['READY', 'CONNECTING', 'RECONNECTING', 'IDLE', 'NEARLY', 'DISCONNECTED'];
        const apiPing = Math.round(ws.ping);
        const now = process.hrtime.bigint();
        const m = await message.channel.send('Pinging...');
        const end = process.hrtime.bigint();
        const nower = process.hrtime.bigint();
        await fetch('https://google.com');
        const ender = process.hrtime.bigint();
        const connectionStatus = connections[ws.status];
        const gateway = ws.gateway;
        return m.edit(new client.discord.MessageEmbed()
            .setColor(client.config.embedColor)
            .setTitle('Ping')
            .addField('API Ping:', `\`\`${apiPing}ms\`\``, true)
            .addField('Response Time:', `\`\`${pms(Number(end - now) / 1000000, { formatSubMilliseconds: true })}\`\``, true)
            .addField('Connection Ping:', `\`\`${pms(Number(ender - nower) / 1000000, { formatSubMilliseconds: true })}\`\``, true)
            .addField('Connection Status:', `\`\`${connectionStatus}\`\``, true)
            .addField('Gateway:', `\`\`${gateway}\`\``, true)
            .setTimestamp());
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kcy9waW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNqQyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDcEMsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUNmLElBQUksRUFBRSxNQUFNO0lBQ1osUUFBUSxFQUFFLFNBQVM7SUFDbkIsV0FBVyxFQUFFLDBDQUEwQztJQUN2RCxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFDZixLQUFLLENBQUMsT0FBTyxDQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsSUFBSTtRQUNsQyxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3JCLE1BQU0sV0FBVyxHQUFHLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUU5RixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQyxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbkQsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNwQyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3RDLE1BQU0sS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDbEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN0QyxNQUFNLGdCQUFnQixHQUFHLFdBQVcsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDaEQsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQztRQUUzQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTthQUM1QyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7YUFDbEMsUUFBUSxDQUFDLE1BQU0sQ0FBQzthQUNoQixRQUFRLENBQUMsV0FBVyxFQUFFLE9BQU8sT0FBTyxRQUFRLEVBQUUsSUFBSSxDQUFDO2FBQ25ELFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE9BQU8sRUFBRSxFQUFFLHFCQUFxQixFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUM7YUFDaEgsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsT0FBTyxFQUFFLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQzthQUN0SCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsT0FBTyxnQkFBZ0IsTUFBTSxFQUFFLElBQUksQ0FBQzthQUNuRSxRQUFRLENBQUMsVUFBVSxFQUFFLE9BQU8sT0FBTyxNQUFNLEVBQUUsSUFBSSxDQUFDO2FBQ2hELFlBQVksRUFBRSxDQUFDLENBQUM7SUFDckIsQ0FBQztDQUNGLENBQUMifQ==